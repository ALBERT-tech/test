<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–ù–∞—Ç–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–∏–∑–Ω–µ—Å—É</title>
  <style>
    :root {
      --color-primary: #5b63ff;
      --color-bg: #f6f7fb;
      --color-surface: #ffffff;
      --color-text: #1a1f36;
      --color-text-secondary: #5c647a;
      --color-border: #e3e7f2;
      --color-accent: #ffb347;
      --radius: 14px;
      --shadow: 0 8px 30px rgba(14, 20, 46, 0.08);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: "Inter", "Segoe UI", system-ui, -apple-system, sans-serif;
      background: var(--color-bg);
      color: var(--color-text);
      padding: 24px;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      gap: 24px;
    }

    header {
      text-align: center;
      padding: 12px 0 8px;
    }

    h1 {
      font-size: clamp(24px, 4vw, 34px);
      margin-bottom: 8px;
    }

    .subtitle {
      color: var(--color-text-secondary);
      font-size: 15px;
    }

    .card {
      background: var(--color-surface);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      border: 1px solid var(--color-border);
      padding: 24px;
    }

    .grid {
      display: grid;
      gap: 16px;
    }

    .grid-2 {
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    }

    .field {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    label {
      font-size: 13px;
      color: var(--color-text-secondary);
      font-weight: 600;
      letter-spacing: 0.02em;
      text-transform: uppercase;
    }

    input,
    select,
    textarea {
      border: 1px solid var(--color-border);
      border-radius: 10px;
      padding: 10px 12px;
      font-size: 15px;
      background: #fbfcff;
      color: var(--color-text);
    }

    textarea {
      min-height: 100px;
      resize: vertical;
    }

    input:focus,
    select:focus,
    textarea:focus {
      outline: none;
      border-color: var(--color-primary);
      box-shadow: 0 0 0 3px rgba(91, 99, 255, 0.15);
    }

    .actions {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      margin-top: 12px;
    }

    button {
      padding: 12px 18px;
      border-radius: 999px;
      font-weight: 600;
      border: none;
      cursor: pointer;
      transition: transform 0.15s ease, box-shadow 0.15s ease;
    }

    .btn-primary {
      background: var(--color-primary);
      color: white;
      box-shadow: 0 10px 20px rgba(91, 99, 255, 0.25);
    }

    .btn-secondary {
      background: #eef1ff;
      color: var(--color-primary);
    }

    button:hover {
      transform: translateY(-1px);
    }

    .disclaimer {
      background: rgba(255, 179, 71, 0.2);
      border: 1px dashed rgba(255, 179, 71, 0.6);
      padding: 14px 16px;
      border-radius: 12px;
      color: #7a4b00;
      font-size: 13px;
    }

    .results {
      display: grid;
      gap: 20px;
    }

    .result-section h3 {
      margin-bottom: 10px;
      font-size: 18px;
    }

    .pill-list {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .pill {
      background: #f0f2ff;
      border-radius: 999px;
      padding: 8px 12px;
      font-size: 14px;
      color: var(--color-primary);
      font-weight: 600;
    }

    .chart-wrap {
      display: grid;
      place-items: center;
      margin-top: 12px;
    }

    .chart-meta {
      display: grid;
      gap: 8px;
      font-size: 14px;
      color: var(--color-text-secondary);
    }

    .house-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap: 12px;
    }

    .house-card {
      background: #f7f8ff;
      border-radius: 12px;
      padding: 12px;
      font-size: 13px;
      color: var(--color-text-secondary);
    }

    .house-card strong {
      display: block;
      color: var(--color-text);
      margin-bottom: 4px;
      font-size: 14px;
    }

    .tag {
      background: #ffffff;
      border-radius: 999px;
      padding: 6px 10px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      border: 1px solid var(--color-border);
      font-size: 13px;
    }

    .tag span {
      font-weight: 600;
      color: var(--color-primary);
    }

    .chart-svg text {
      font-size: 10px;
      fill: #3e4666;
    }

    .timeline {
      display: grid;
      gap: 10px;
    }

    .timeline-item {
      padding: 12px;
      border-radius: 12px;
      border: 1px solid var(--color-border);
      background: #fbfcff;
    }

    @media (max-width: 720px) {
      body {
        padding: 16px;
      }

      .actions {
        flex-direction: column;
      }

      button {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>üåå –ù–∞—Ç–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞ + –±–∏–∑–Ω–µ—Å-—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</h1>
      <p class="subtitle">–í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ —Ä–æ–∂–¥–µ–Ω–∏—è, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—É—é –∫–∞—Ä—Ç—É –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç—á–µ—Ç.</p>
    </header>

    <section class="card">
      <div class="grid grid-2">
        <div class="field">
          <label for="fullName">–ò–º—è</label>
          <input id="fullName" type="text" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, –ê–Ω–Ω–∞" />
        </div>
        <div class="field">
          <label for="birthDate">–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è</label>
          <input id="birthDate" type="date" />
        </div>
        <div class="field">
          <label for="birthTime">–í—Ä–µ–º—è —Ä–æ–∂–¥–µ–Ω–∏—è</label>
          <input id="birthTime" type="time" />
        </div>
        <div class="field">
          <label for="timezone">–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å</label>
          <select id="timezone">
            <option value="+03:00">–ú–æ—Å–∫–≤–∞ (UTC+3)</option>
            <option value="+02:00">UTC+2</option>
            <option value="+01:00">UTC+1</option>
            <option value="+00:00">UTC+0</option>
            <option value="-01:00">UTC-1</option>
            <option value="-02:00">UTC-2</option>
            <option value="-03:00">UTC-3</option>
            <option value="+04:00">UTC+4</option>
            <option value="+05:00">UTC+5</option>
            <option value="+06:00">UTC+6</option>
            <option value="+07:00">UTC+7</option>
            <option value="+08:00">UTC+8</option>
            <option value="+09:00">UTC+9</option>
            <option value="+10:00">UTC+10</option>
          </select>
        </div>
        <div class="field">
          <label for="birthCity">–ì–æ—Ä–æ–¥ —Ä–æ–∂–¥–µ–Ω–∏—è</label>
          <input id="birthCity" type="text" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥" />
        </div>
        <div class="field">
          <label for="birthCountry">–°—Ç—Ä–∞–Ω–∞</label>
          <input id="birthCountry" type="text" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, –†–æ—Å—Å–∏—è" />
        </div>
      </div>

      <div class="grid grid-2" style="margin-top: 16px;">
        <div class="field">
          <label for="businessArea">–°—Ñ–µ—Ä–∞ –±–∏–∑–Ω–µ—Å–∞</label>
          <input id="businessArea" type="text" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, IT-—É—Å–ª—É–≥–∏, —Ä–∏—Ç–µ–π–ª" />
        </div>
        <div class="field">
          <label for="role">–†–æ–ª—å –≤ –±–∏–∑–Ω–µ—Å–µ</label>
          <select id="role">
            <option value="founder">–û—Å–Ω–æ–≤–∞—Ç–µ–ª—å</option>
            <option value="executive">–†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å</option>
            <option value="expert">–≠–∫—Å–ø–µ—Ä—Ç / –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç</option>
            <option value="creative">–ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–π –ª–∏–¥–µ—Ä</option>
          </select>
        </div>
        <div class="field">
          <label for="goal">–ë–∏–∑–Ω–µ—Å-—Ü–µ–ª—å</label>
          <input id="goal" type="text" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏–µ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π" />
        </div>
        <div class="field">
          <label for="risk">–î–æ–ø—É—Å—Ç–∏–º—ã–π —Ä–∏—Å–∫</label>
          <select id="risk">
            <option value="low">–ù–∏–∑–∫–∏–π</option>
            <option value="medium" selected>–°—Ä–µ–¥–Ω–∏–π</option>
            <option value="high">–í—ã—Å–æ–∫–∏–π</option>
          </select>
        </div>
      </div>

      <div class="field" style="margin-top: 16px;">
        <label for="notes">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</label>
        <textarea id="notes" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –≤–∞–∂–Ω—ã–µ –¥–∞—Ç—ã, –ø–æ–∂–µ–ª–∞–Ω–∏—è, –∫–æ–Ω—Ç–µ–∫—Å—Ç –±–∏–∑–Ω–µ—Å–∞"></textarea>
      </div>

      <div class="actions">
        <button class="btn-primary" id="buildChart">–ü–æ—Å—Ç—Ä–æ–∏—Ç—å –Ω–∞—Ç–∞–ª—å–Ω—É—é –∫–∞—Ä—Ç—É</button>
        <button class="btn-secondary" id="resetForm">–°–±—Ä–æ—Å–∏—Ç—å —Ñ–æ—Ä–º—É</button>
      </div>

      <p class="disclaimer" style="margin-top: 16px;">
        ‚ö†Ô∏è –≠—Ç–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≤–¥–æ—Ö–Ω–æ–≤–ª—è—é—â–∏–π –∞—Å—Ç—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –æ—Ç—á–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–≤–µ–¥–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ —É–ø—Ä–æ—â–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏.
        –û–Ω –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –Ω–∞—É—á–Ω–æ–π –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–µ–π –∏ –Ω–µ –∑–∞–º–µ–Ω—è–µ—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è.
      </p>
    </section>

    <section class="card results" id="results" style="display: none;">
      <div class="result-section">
        <h3>üß≠ –û—Å–Ω–æ–≤–Ω—ã–µ –∞–∫—Ü–µ–Ω—Ç—ã –∫–∞—Ä—Ç—ã</h3>
        <div class="pill-list" id="keyPills"></div>
      </div>

      <div class="result-section">
        <h3>üåê –ù–∞—Ç–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞</h3>
        <div class="chart-wrap">
          <svg class="chart-svg" id="chart" width="360" height="360" viewBox="0 0 360 360" aria-label="–ù–∞—Ç–∞–ª—å–Ω–∞—è –∫–∞—Ä—Ç–∞">
            <circle cx="180" cy="180" r="150" fill="#fff" stroke="#d8dff5" stroke-width="2" />
            <circle cx="180" cy="180" r="110" fill="none" stroke="#e7ecfb" stroke-width="2" />
            <circle cx="180" cy="180" r="70" fill="none" stroke="#f0f3ff" stroke-width="2" />
            <g id="houseLines"></g>
            <g id="planetMarkers"></g>
            <circle cx="180" cy="180" r="4" fill="#5b63ff" />
          </svg>
        </div>
        <div class="chart-meta" id="chartMeta"></div>
      </div>

      <div class="result-section">
        <h3>üíº –ë–∏–∑–Ω–µ—Å-–ø–æ—Ä—Ç—Ä–µ—Ç</h3>
        <div id="businessProfile"></div>
      </div>

      <div class="result-section">
        <h3>üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–∏—Ç–∏—é</h3>
        <div class="timeline" id="recommendations"></div>
      </div>

      <div class="result-section">
        <h3>üè† –î–æ–º–∞ –∏ —Å—Ñ–µ—Ä—ã –∂–∏–∑–Ω–∏</h3>
        <div class="house-grid" id="houses"></div>
      </div>
    </section>
  </div>

  <script>
    const buildButton = document.getElementById("buildChart");
    const resetButton = document.getElementById("resetForm");
    const resultsSection = document.getElementById("results");
    const keyPills = document.getElementById("keyPills");
    const chartMeta = document.getElementById("chartMeta");
    const houseLines = document.getElementById("houseLines");
    const planetMarkers = document.getElementById("planetMarkers");
    const businessProfile = document.getElementById("businessProfile");
    const recommendations = document.getElementById("recommendations");
    const houses = document.getElementById("houses");

    const SIGNS = [
      "–û–≤–µ–Ω",
      "–¢–µ–ª–µ—Ü",
      "–ë–ª–∏–∑–Ω–µ—Ü—ã",
      "–†–∞–∫",
      "–õ–µ–≤",
      "–î–µ–≤–∞",
      "–í–µ—Å—ã",
      "–°–∫–æ—Ä–ø–∏–æ–Ω",
      "–°—Ç—Ä–µ–ª–µ—Ü",
      "–ö–æ–∑–µ—Ä–æ–≥",
      "–í–æ–¥–æ–ª–µ–π",
      "–†—ã–±—ã",
    ];

    const PLANETS = [
      { name: "–°–æ–ª–Ω—Ü–µ", symbol: "‚òâ" },
      { name: "–õ—É–Ω–∞", symbol: "‚òΩ" },
      { name: "–ú–µ—Ä–∫—É—Ä–∏–π", symbol: "‚òø" },
      { name: "–í–µ–Ω–µ—Ä–∞", symbol: "‚ôÄ" },
      { name: "–ú–∞—Ä—Å", symbol: "‚ôÇ" },
      { name: "–Æ–ø–∏—Ç–µ—Ä", symbol: "‚ôÉ" },
      { name: "–°–∞—Ç—É—Ä–Ω", symbol: "‚ôÑ" },
      { name: "–£—Ä–∞–Ω", symbol: "‚ôÖ" },
      { name: "–ù–µ–ø—Ç—É–Ω", symbol: "‚ôÜ" },
      { name: "–ü–ª—É—Ç–æ–Ω", symbol: "‚ôá" },
    ];

    const BUSINESS_ARCHETYPES = {
      founder: {
        strengths: [
          "–∏–Ω–∏—Ü–∏–∞—Ç–∏–≤–Ω–æ—Å—Ç—å",
          "–≤–∏–¥–µ–Ω–∏–µ —Ä—ã–Ω–∫–∞",
          "–±—ã—Å—Ç—Ä–æ–µ –ø—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π",
        ],
        focus: "—Å–æ–∑–¥–∞–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ–π –º–æ–¥–µ–ª–∏ –∏ —è–¥—Ä–∞ –∫–æ–º–∞–Ω–¥—ã",
      },
      executive: {
        strengths: ["—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏", "–æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å", "–¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ"],
        focus: "–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –ø–æ—Ç–æ–∫–∞ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –±–∏–∑–Ω–µ—Å–∞",
      },
      expert: {
        strengths: ["—ç–∫—Å–ø–µ—Ä—Ç–∏–∑–∞", "–ª–∏—á–Ω—ã–π –±—Ä–µ–Ω–¥", "–≥–ª—É–±–∏–Ω–∞ –∞–Ω–∞–ª–∏–∑–∞"],
        focus: "–ø—Ä–æ–¥—É–∫—Ç–æ–≤–∞—è —É–ø–∞–∫–æ–≤–∫–∞ –∑–Ω–∞–Ω–∏–π –∏ —Ä–∞–∑–≤–∏—Ç–∏–µ –∫–æ–Ω—Å–∞–ª—Ç–∏–Ω–≥–∞",
      },
      creative: {
        strengths: ["–∫—Ä–µ–∞—Ç–∏–≤", "—Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ –∏–Ω—Å–∞–π—Ç—ã", "—ç–º–ø–∞—Ç–∏—è"],
        focus: "—Ä–∞–∑–≤–∏—Ç–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏",
      },
    };

    function hashString(value) {
      let hash = 0;
      for (let i = 0; i < value.length; i += 1) {
        hash = (hash << 5) - hash + value.charCodeAt(i);
        hash |= 0;
      }
      return Math.abs(hash);
    }

    function toDegrees(hash, index) {
      return (hash * (index + 3) * 37) % 360;
    }

    function degreeToSign(degree) {
      const signIndex = Math.floor(degree / 30) % 12;
      const degreeInSign = Math.floor(degree % 30);
      return { sign: SIGNS[signIndex], degree: degreeInSign };
    }

    function buildHouseLines() {
      houseLines.innerHTML = "";
      for (let i = 0; i < 12; i += 1) {
        const angle = (i * 30 * Math.PI) / 180;
        const x = 180 + 150 * Math.cos(angle);
        const y = 180 + 150 * Math.sin(angle);
        const line = document.createElementNS("http://www.w3.org/2000/svg", "line");
        line.setAttribute("x1", "180");
        line.setAttribute("y1", "180");
        line.setAttribute("x2", x);
        line.setAttribute("y2", y);
        line.setAttribute("stroke", "#eef1ff");
        line.setAttribute("stroke-width", "2");
        houseLines.appendChild(line);
      }
    }

    function renderPlanets(positions) {
      planetMarkers.innerHTML = "";
      positions.forEach((planet, index) => {
        const angle = (planet.degree - 90) * (Math.PI / 180);
        const radius = 120 - (index % 3) * 18;
        const x = 180 + radius * Math.cos(angle);
        const y = 180 + radius * Math.sin(angle);

        const circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
        circle.setAttribute("cx", x);
        circle.setAttribute("cy", y);
        circle.setAttribute("r", "10");
        circle.setAttribute("fill", "#5b63ff");
        circle.setAttribute("opacity", "0.12");

        const text = document.createElementNS("http://www.w3.org/2000/svg", "text");
        text.setAttribute("x", x);
        text.setAttribute("y", y + 3);
        text.setAttribute("text-anchor", "middle");
        text.textContent = planet.symbol;

        planetMarkers.appendChild(circle);
        planetMarkers.appendChild(text);
      });
    }

    function renderPills(placements) {
      keyPills.innerHTML = "";
      placements.slice(0, 6).forEach((item) => {
        const pill = document.createElement("div");
        pill.className = "pill";
        pill.textContent = `${item.name} –≤ ${item.sign}`;
        keyPills.appendChild(pill);
      });
    }

    function renderMeta({ name, date, time, city, country, timezone }) {
      chartMeta.innerHTML = `
        <div class="tag">üë§ <span>${name || "–ü—Ä–æ—Ñ–∏–ª—å"}</span></div>
        <div class="tag">üìç <span>${city || "–ì–æ—Ä–æ–¥"}, ${country || "—Å—Ç—Ä–∞–Ω–∞"}</span></div>
        <div class="tag">üïí <span>${date || "–¥–∞—Ç–∞"} ${time || "–≤—Ä–µ–º—è"} (${timezone})</span></div>
      `;
    }

    function renderBusinessProfile({ role, businessArea, goal, risk }, placements) {
      const archetype = BUSINESS_ARCHETYPES[role];
      const dominant = placements[0];
      const support = placements[1];

      businessProfile.innerHTML = `
        <p><strong>–†–æ–ª—å:</strong> ${roleLabel(role)}. –í–µ–¥—É—â–∏–π –∞—Ä—Ö–µ—Ç–∏–ø –∫–∞—Ä—Ç—ã ‚Äî <strong>${dominant.sign}</strong>,
        —É—Å–∏–ª–µ–Ω–Ω—ã–π –≤–ª–∏—è–Ω–∏–µ–º ${support.name}.</p>
        <p><strong>–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:</strong> ${archetype.strengths.join(", ")}. –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç –≤ —Å—Ñ–µ—Ä–µ ${businessArea || "–≤–∞—à–µ–≥–æ –±–∏–∑–Ω–µ—Å–∞"}.</p>
        <p><strong>–§–æ–∫—É—Å:</strong> ${archetype.focus}. –¶–µ–ª—å "${goal || "—Ä–∞–∑–≤–∏—Ç–∏–µ"}" –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–º –º—ã—à–ª–µ–Ω–∏–µ–º.</p>
        <p><strong>–†–∏—Å–∫-–ø—Ä–æ—Ñ–∏–ª—å:</strong> ${riskLabel(risk)} ‚Äî –≤–∞–∂–Ω–æ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞—Ç—å –∞–º–±–∏—Ü–∏–∏ –∏ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å.</p>
      `;
    }

    function renderRecommendations({ risk }) {
      const advice = risk === "high"
        ? [
            "–°–¥–µ–ª–∞–π—Ç–µ —Å—Ç–∞–≤–∫—É –Ω–∞ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π —Ä–æ—Å—Ç –∏ –ø–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–∞.",
            "–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–µ –∫–∞–Ω–∞–ª—ã –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏ –∫–∞–∂–¥—ã–µ 4 –Ω–µ–¥–µ–ª–∏.",
            "–í—ã–¥–µ–ª–∏—Ç–µ –±—é–¥–∂–µ—Ç –Ω–∞ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–π—Ç–µ —É—Å–ø–µ—à–Ω—ã–µ –≥–∏–ø–æ—Ç–µ–∑—ã.",
          ]
        : risk === "low"
          ? [
              "–°—Ñ–æ–∫—É—Å–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ –∏ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏.",
              "–£–∫—Ä–µ–ø–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω—É—é –ø—Ä–æ–¥—É–∫—Ç–æ–≤—É—é –ª–∏–Ω–µ–π–∫—É –¥–æ –≤—ã—Ö–æ–¥–∞ –Ω–∞ –Ω–æ–≤—ã–µ —Ä—ã–Ω–∫–∏.",
              "–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –º–µ—Ç—Ä–∏–∫ LTV –∏ CAC.",
            ]
          : [
              "–°–±–∞–ª–∞–Ω—Å–∏—Ä—É–π—Ç–µ —Ä–æ—Å—Ç –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ –ø–∏–ª–æ—Ç–Ω—ã–µ –∑–∞–ø—É—Å–∫–∏.",
              "–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–∏–Ω–º–æ–¥—É–ª—å —Å –ø–ª–∞–Ω–æ–º –æ–∫—É–ø–∞–µ–º–æ—Å—Ç–∏.",
              "–†–∞–∑–≤–∏–≤–∞–π—Ç–µ –ø–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∏–µ –ø—Ä–æ–¥–∞–∂–∏ –∏ PR-–ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ.",
            ];

      recommendations.innerHTML = "";
      advice.forEach((text, index) => {
        const item = document.createElement("div");
        item.className = "timeline-item";
        item.innerHTML = `<strong>–®–∞–≥ ${index + 1}</strong><p>${text}</p>`;
        recommendations.appendChild(item);
      });
    }

    function renderHouses(placements) {
      houses.innerHTML = "";
      placements.slice(0, 12).forEach((placement, index) => {
        const card = document.createElement("div");
        card.className = "house-card";
        card.innerHTML = `
          <strong>–î–æ–º ${index + 1}</strong>
          ${placement.name} —É—Å–∏–ª–∏–≤–∞–µ—Ç —Ç–µ–º—ã ${houseTheme(index)}.
          <br /><em>${placement.sign} ¬∑ ${placement.degree}¬∞</em>
        `;
        houses.appendChild(card);
      });
    }

    function roleLabel(role) {
      switch (role) {
        case "executive":
          return "–†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å";
        case "expert":
          return "–≠–∫—Å–ø–µ—Ä—Ç";
        case "creative":
          return "–ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–π –ª–∏–¥–µ—Ä";
        default:
          return "–û—Å–Ω–æ–≤–∞—Ç–µ–ª—å";
      }
    }

    function riskLabel(risk) {
      if (risk === "high") return "–≤—ã—Å–æ–∫–∞—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–∏—Å–∫—É";
      if (risk === "low") return "–∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥";
      return "—É–º–µ—Ä–µ–Ω–Ω—ã–π –±–∞–ª–∞–Ω—Å";
    }

    function houseTheme(index) {
      const themes = [
        "–ª–∏—á–Ω–æ–≥–æ –±—Ä–µ–Ω–¥–∞",
        "—Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏",
        "–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–π",
        "–∫–æ–º–∞–Ω–¥—ã –∏ –∫—É–ª—å—Ç—É—Ä—ã",
        "–ª–∏–¥–µ—Ä—Å—Ç–≤–∞",
        "–æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤",
        "–ø–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤",
        "—Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏—Ö —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–π",
        "—ç–∫—Å–ø–∞–Ω—Å–∏–∏",
        "–∫–∞—Ä—å–µ—Ä–Ω–æ–≥–æ —Ä–æ—Å—Ç–∞",
        "—Å–æ–æ–±—â–µ—Å—Ç–≤–∞",
        "–∏–Ω–Ω–æ–≤–∞—Ü–∏–π",
      ];
      return themes[index % themes.length];
    }

    function buildPlacements(seed) {
      return PLANETS.map((planet, index) => {
        const degree = toDegrees(seed, index);
        const { sign, degree: degreeInSign } = degreeToSign(degree);
        return {
          ...planet,
          degree,
          sign,
          degreeInSign,
        };
      }).sort((a, b) => b.degree - a.degree);
    }

    function validateForm(data) {
      const required = [data.birthDate, data.birthTime, data.birthCity, data.birthCountry];
      return required.every((item) => item && item.trim().length > 0);
    }

    buildButton.addEventListener("click", () => {
      const data = {
        name: document.getElementById("fullName").value.trim(),
        birthDate: document.getElementById("birthDate").value,
        birthTime: document.getElementById("birthTime").value,
        timezone: document.getElementById("timezone").value,
        birthCity: document.getElementById("birthCity").value.trim(),
        birthCountry: document.getElementById("birthCountry").value.trim(),
        businessArea: document.getElementById("businessArea").value.trim(),
        role: document.getElementById("role").value,
        goal: document.getElementById("goal").value.trim(),
        risk: document.getElementById("risk").value,
        notes: document.getElementById("notes").value.trim(),
      };

      if (!validateForm(data)) {
        alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –¥–∞—Ç—É, –≤—Ä–µ–º—è –∏ –º–µ—Å—Ç–æ —Ä–æ–∂–¥–µ–Ω–∏—è.");
        return;
      }

      const seed = hashString(
        `${data.name}-${data.birthDate}-${data.birthTime}-${data.birthCity}-${data.birthCountry}-${data.timezone}`
      );

      const placements = buildPlacements(seed);

      buildHouseLines();
      renderPlanets(placements);
      renderPills(placements);
      renderMeta({
        name: data.name || "–ü—Ä–æ—Ñ–∏–ª—å",
        date: data.birthDate,
        time: data.birthTime,
        city: data.birthCity,
        country: data.birthCountry,
        timezone: data.timezone,
      });
      renderBusinessProfile(data, placements);
      renderRecommendations(data);
      renderHouses(placements);

      resultsSection.style.display = "grid";
      resultsSection.scrollIntoView({ behavior: "smooth" });
    });

    resetButton.addEventListener("click", () => {
      document.querySelectorAll("input, textarea").forEach((input) => (input.value = ""));
      document.getElementById("timezone").value = "+03:00";
      document.getElementById("role").value = "founder";
      document.getElementById("risk").value = "medium";
      resultsSection.style.display = "none";
    });
  </script>
</body>
</html>
